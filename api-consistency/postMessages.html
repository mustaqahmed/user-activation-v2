<!DOCTYPE html>
<!--
  The cross-origin part of this demo is here:
  https://eirage.github.io/user-activation-v2/api-consistency/postMessages-sub.html
-->
<html>
<head>
  <title>User Activation v2 with child-to-parent postMessages</title>
  <link rel="stylesheet" href="styles.css">
  <script src="common.js"></script>
  <script src="api-tester.js"></script>
  <script>
    function init() {
      apiTester.setupApiCaller();

      window.addEventListener("message", (e) => {
        log("received: " + e.data, "black");
        if (e.data.startsWith("call_"))
          apiTester.callApi(e.data.slice(5));
      });
    }
  </script>
</head>
<body onload="init()">
  <div id="instruction">
    <p><b>Test instruction:</b>&ensp;
      Within the green area:&ensp;
      (a) Select a test API.&ensp;
      (b) Click the button for desired message sequence.
    </p>
    <p><b>Expectation:</b> Any of these buttons should successsfully call the test API.
      User Activation v2 works in each case.</p>
  </div>

  <div id="api-elem-area"></div>

  <iframe src="https://eirage.github.io/user-activation-v2/api-consistency/postMessages-sub.html"></iframe>

  <div id="log"><b>Log:</b> </div>
</body>
</html>
